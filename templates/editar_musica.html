{% extends 'padrao.html' %}

{% block conteudo %}
<fieldset>
    <legend>Digite as informações da musica</legend>
    <form method="post" action="{{ url_for('atualizarMusica') }}" enctype="multipart/form-data">
        <fieldset>

            {{ musica.csrf_token() }}
            
            <input type="hidden" name="txtId" value="{{ musica.id_musica }}">
            <div class="mb-2">
                <img src="{{ url_for('imagem', nomeImagem = albumMusica) }}" class="rounded" alt="album" style="height: 200px; width: 200px; max-width: 100%;">
            </div>
            <div class="mb-2">
                <label for="arquivo">Foto de capa:</label>
                <input type="file" class="form-control" name="arquivo" accept=".jpg, .jpeg, .png">
            </div>
            <div class="mb-2">
                {{ musica.nome.label(class='form-label') }}
                {{ musica.nome(class='form-control') }}
            </div>
            <div class="mb-2">
                {{ musica.grupo.label(class='form-label') }}
                {{ musica.grupo(class='form-control') }}
            </div>
            <div class="mb-2">
                {{ musica.genero.label(class='form-label') }}
                {{ musica.genero(class='form-control') }}
            </div>
            <div class="mb-2">
                {{ musica.cadastrar(class='btn btn-primary') }}
            </div>
        </fieldset>
    </form>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ul class=flashes style="list-style-type: none; padding-left: 0px;">
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
</fieldset>
{% endblock %}
